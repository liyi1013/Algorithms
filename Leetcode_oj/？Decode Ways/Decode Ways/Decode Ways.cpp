//Decode Ways http://oj.leetcode.com/problems/decode-ways/

#include<iostream>
#include<string>
using namespace std;

class Solution {
public:
	//int N=1;
	int numDecodings(string s){
		int n = s.size();
		if (n == 0 || s == "0")
			return 0;
		else
		{
			int *a = new int[n]; int i = 0;
			for (auto it = s.begin(); it != s.end(); ++it){
				a[i] = *it - '0'; i++;
			}

			//for (int i = 0; i < n; i++)
			//{
			//	cout << a[i] << " ";
			//}
			int h= f(a, n-1, 0);

			return h;
		}
	}

	int f(int a[], int end,int N)
	{
		if (end == 0)
			return N+1;
		else
		{
			if (a[end - 1] > 2 || a[end] == 0)
			{
				f(a, end - 1, N);
			}
			else 
			{
				f(a, end - 1, N + 1);
				if (end > 1)
				{
					f(a, end - 2, N + 1);
				}
			}
		}
	}
};

void main()
{
	//string s = { "101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010" };
	string s = {"121"};
	Solution ss;
	cout << ss.numDecodings(s);

}